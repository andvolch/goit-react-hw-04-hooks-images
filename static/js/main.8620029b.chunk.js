(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,a,t){e.exports={imageGallery:"ImageGallery_imageGallery__3Wi6g",title:"ImageGallery_title__1u7l_",error:"ImageGallery_error__1_-__"}},14:function(e,a,t){e.exports={overlay:"Modal_overlay__ex564",modal:"Modal_modal__2fLrr"}},15:function(e,a,t){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__1-cZZ",imageGalleryItem__image:"ImageGalleryItem_imageGalleryItem__image__1J83u"}},16:function(e,a,t){e.exports={button:"Button_button__3x1YE",container:"Button_container__1BhhK"}},28:function(e,a,t){e.exports={loader:"Loader_loader__3lzao"}},33:function(e,a,t){},6:function(e,a,t){e.exports={searchbar:"Searchbar_searchbar__3YQ6I",searchForm:"Searchbar_searchForm__100cV",searchForm__button:"Searchbar_searchForm__button__gEGua",searchForm__label:"Searchbar_searchForm__label__1mGe1",searchForm__input:"Searchbar_searchForm__input__Vhqu1"}},74:function(e,a,t){"use strict";t.r(a);var r=t(0),c=t.n(r),n=t(5),o=t.n(n),s=(t(33),t(4)),i=t(11),l=(t(34),t(14)),u=t.n(l),m=t(1),b=document.querySelector("#modal-root");function j(e){var a=e.onClose,t=e.tags,c=e.largeImageURL;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&a()};return Object(n.createPortal)(Object(m.jsx)("div",{className:u.a.overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(m.jsx)("div",{className:u.a.modal,children:Object(m.jsx)("img",{src:c,alt:t})})}),b)}var _=t(6),h=t.n(_);function d(e){var a=e.onSubmit,t=Object(r.useState)(""),c=Object(s.a)(t,2),n=c[0],o=c[1];return Object(m.jsx)("header",{className:h.a.searchbar,children:Object(m.jsxs)("form",{className:h.a.searchForm,onSubmit:function(e){if(e.preventDefault(),""===n.trim())return i.b.error("Enter a normal query!");a(n),o("")},children:[Object(m.jsx)("button",{type:"submit",className:h.a.searchForm__button,children:Object(m.jsx)("span",{className:h.a.searchForm__label,children:"Search images and fotos"})}),Object(m.jsx)("input",{className:h.a.searchForm__input,type:"text",name:"search",value:n,placeholder:"Search images and photos",onChange:function(e){o(e.target.value.toLowerCase())}})]})})}var g=t(18),f=t(15),O=t.n(f),p=function(e){var a=e.tags,t=e.webformatURL,r=e.largeImageURL,c=e.onClick;return Object(m.jsx)("li",{className:O.a.imageGalleryItem,children:Object(m.jsx)("img",{src:t,alt:a,className:O.a.imageGalleryItem__image,onClick:function(){return c(a,r)}})})},x=t(16),v=t.n(x),y=function(e){var a=e.loadMore;return Object(m.jsx)("div",{className:v.a.container,children:Object(m.jsx)("button",{type:"button",className:v.a.button,onClick:a,children:"Load more"})})},I=t(27),S=t.n(I),w=t(28),G=t.n(w),L=function(){return Object(m.jsxs)("div",{children:[" ",Object(m.jsx)(S.a,{className:G.a.loader,type:"TailSpin",color:"#3f51b5",height:80,width:80}),"; loading ..."]})},N=t(17),k=t.n(N);k.a.defaults.baseURL="https://pixabay.com/api/";var F=function(e,a){var t="?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(a,"&per_page=12&key=").concat("23134758-68ab0efee1477745fc8aff6a6");return k.a.get(t)},C=t(12),E=t.n(C),R="idle",U="pending",M="resolved",q="rejected";function B(e){var a=e.query,t=e.page,c=e.images,n=e.setImages,o=e.onImageClick,i=e.loadMore,l=Object(r.useState)(null),u=Object(s.a)(l,2),b=(u[0],u[1]),j=Object(r.useState)(R),_=Object(s.a)(j,2),h=_[0],d=_[1];Object(r.useEffect)((function(){a&&(d(U),F(a,t).then((function(e){var a=e.data.hits;n((function(e){return[].concat(Object(g.a)(e),Object(g.a)(a))})),d(M),1!==t&&f()})).catch((function(e){b(e),d(q)})))}),[a,t,n]);var f=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return h===R?Object(m.jsx)("h2",{className:E.a.title,children:"Enter name image"}):h===U?Object(m.jsx)(L,{}):h===q?Object(m.jsx)("h2",{className:E.a.error,children:"ERROR"}):h===M?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:E.a.imageGallery,children:c.map((function(e){var a=e.id,t=e.tags,r=e.webformatURL,c=e.largeImageURL;return Object(m.jsx)(p,{tags:t,webformatURL:r,largeImageURL:c,onClick:o},a)}))}),Object(m.jsx)(y,{loadMore:i})]}):void 0}function J(){var e=Object(r.useState)(""),a=Object(s.a)(e,2),t=a[0],c=a[1],n=Object(r.useState)(1),o=Object(s.a)(n,2),l=o[0],u=o[1],b=Object(r.useState)([]),_=Object(s.a)(b,2),h=_[0],g=_[1],f=Object(r.useState)(!1),O=Object(s.a)(f,2),p=O[0],x=O[1],v=Object(r.useState)(""),y=Object(s.a)(v,2),I=y[0],S=y[1],w=Object(r.useState)(""),G=Object(s.a)(w,2),L=G[0],N=G[1],k=function(){x(!p)};return Object(m.jsxs)("div",{children:[Object(m.jsx)(d,{onSubmit:function(e,a){c(e),u(1),g([])}}),Object(m.jsx)(B,{query:t,page:l,images:h,setImages:g,onImageClick:function(e,a){S(e),N(a),k()},loadMore:function(){u((function(e){return e+1}))}}),p&&Object(m.jsx)(j,{onClose:k,tags:I,largeImageURL:L}),Object(m.jsx)(i.a,{autoClose:5e3})]})}o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(J,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.8620029b.chunk.js.map