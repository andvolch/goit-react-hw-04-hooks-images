{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","services/pixabay-api.js","components/App/App.jsx","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","onClose","tags","largeImageURL","useEffect","window","addEventListener","handleKeydown","removeEventListener","e","code","createPortal","className","s","overlay","onClick","currentTarget","target","modal","src","alt","Searchbar","onSubmit","useState","query","setQuery","searchbar","searchForm","preventDefault","trim","toast","error","type","searchForm__button","searchForm__label","searchForm__input","name","value","placeholder","onChange","toLowerCase","ImageGalleryItem","webformatURL","imageGalleryItem","imageGalleryItem__image","ImageGallery","images","onImageClick","imageGallery","map","id","Button","loadMore","container","button","loader","color","height","width","axios","defaults","baseURL","getPicturesPixabayApi","page","params","get","Status","App","setPage","setImages","showModal","setShowModal","seTtags","setLargeImageURL","setError","status","setStatus","handleFormSubmit","fetchApi","then","hits","data","prevState","catch","length","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","title","autoClose","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,wBAA0B,oD,mBCA1GD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,UAAY,4B,mBCA9DD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,MAAQ,mBAAmB,MAAQ,qB,mBCA5ED,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,uCCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,mBAAqB,sCAAsC,kBAAoB,qCAAqC,kBAAoB,uC,yICOxOC,EAAYC,SAASC,cAAc,eAE1B,SAASC,EAAT,GAAkD,IAAjCC,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,cAE7CC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAEjC,kBAAMF,OAAOG,oBAAoB,UAAWD,OAIhD,IAAMA,EAAgB,SAAAE,GACL,WAAXA,EAAEC,MACJT,KAUJ,OAAOU,uBACH,qBAAKC,UAAWC,IAAEC,QAASC,QAPN,SAAAN,GACnBA,EAAEO,gBAAkBP,EAAEQ,QACxBhB,KAKA,SACE,qBAAKW,UAAWC,IAAEK,MAAlB,SAEE,qBAAKC,IAAKhB,EAAeiB,IAAKlB,QAGlCL,G,oBC/BS,SAASwB,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAElC,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAiBA,OACI,wBAAQb,UAAWC,IAAEa,UAArB,SACE,uBAAMd,UAAWC,IAAEc,WAAYL,SAjBhB,SAAAb,GAGnB,GAFAA,EAAEmB,iBAEmB,KAAjBJ,EAAMK,OACR,OAAOC,IAAMC,MAAM,yBAErBT,EAASE,GACTC,EAAS,KAUL,UACE,wBAAQO,KAAK,SAASpB,UAAWC,IAAEoB,mBAAnC,SACE,sBAAMrB,UAAWC,IAAEqB,kBAAnB,uCAEF,uBACEtB,UAAWC,IAAEsB,kBACbH,KAAK,OACLI,KAAK,SACLC,MAAOb,EAGPc,YAAY,2BACZC,SAnBgB,SAAA9B,GACxBgB,EAAShB,EAAEQ,OAAOoB,MAAMG,uB,qBCAbC,EAlBU,SAAC,GAAD,IAAGvC,EAAH,EAAGA,KAAMwC,EAAT,EAASA,aAAcvC,EAAvB,EAAuBA,cAAeY,EAAtC,EAAsCA,QAAtC,OACvB,oBAAIH,UAAWC,IAAE8B,iBAAjB,SACE,qBACExB,IAAKuB,EACLtB,IAAKlB,EACLU,UAAWC,IAAE+B,wBACb7B,QAAS,kBAAMA,EAAQb,EAAMC,S,iBCLpB,SAAS0C,EAAT,GAAiD,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,aAC7C,OACE,mCACE,oBAAInC,UAAWC,IAAEmC,aAAjB,SACGF,EAAOG,KAAI,gBAAGC,EAAH,EAAGA,GAAIhD,EAAP,EAAOA,KAAMwC,EAAb,EAAaA,aAAcvC,EAA3B,EAA2BA,cAA3B,OACV,cAAC,EAAD,CAEED,KAAMA,EACNwC,aAAcA,EACdvC,cAAeA,EACfY,QAASgC,GAJJG,U,qBCKFC,EAZA,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACb,qBAAKxC,UAAWC,IAAEwC,UAAlB,SACE,wBAAQrB,KAAK,SAASpB,UAAWC,IAAEyC,OAAQvC,QAASqC,EAApD,0B,kCCYWG,EAdA,kBACb,gCACG,IACD,cAAC,IAAD,CACE3C,UAAWC,IAAE0C,OACbvB,KAAK,WACLwB,MAAM,UACNC,OAAQ,GACRC,MAAO,KAPX,oB,iBCAFC,IAAMC,SAASC,QAHE,2BAWFC,MANf,SAA+BtC,EAAOuC,GACpC,IAAIC,EAAM,qDAAiDxC,EAAjD,iBAA+DuC,EAA/D,4BALI,sCAOd,OAAOJ,IAAMM,IAAID,I,iBCKbE,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGG,SAASC,IAEtB,MAA0B5C,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwBF,mBAAS,GAAjC,mBAAOwC,EAAP,KAAaK,EAAb,KACA,EAA4B7C,mBAAS,IAArC,mBAAOuB,EAAP,KAAeuB,EAAf,KACA,EAAkC9C,oBAAS,GAA3C,mBAAO+C,EAAP,KAAkBC,EAAlB,KACA,EAAwBhD,mBAAS,IAAjC,mBAAOrB,EAAP,KAAasE,EAAb,KACA,EAA0CjD,mBAAS,IAAnD,mBAAOpB,EAAP,KAAsBsE,EAAtB,KACA,EAA0BlD,mBAAS,MAAnC,mBAAcmD,GAAd,WACA,EAA4BnD,mBAAS2C,GAArC,mBAAOS,EAAP,KAAeC,EAAf,KAEOC,EAAmB,SAACrD,GACxBC,EAASD,GACT4C,EAAQ,GACRC,EAAU,KAGPS,EAAW,WAGfhB,EAAsBtC,EAAOuC,GAC1BgB,MAAK,YAAyB,IAAdC,EAAa,EAArBC,KAAQD,KACfX,GAAU,SAAAa,GAAS,4BAAQA,GAAR,YAAsBF,OACzCZ,GAAQ,SAAAc,GAAS,OAAIA,EAAY,KACjCN,EAAUV,MAGXiB,OAAM,SAAApD,GACL2C,EAAS3C,GACT6C,EAAUV,OAWhB9D,qBAAU,WAEHoB,IAGLoD,EAAUV,GAEVY,OAEC,CAACtD,IAQEsB,EAAOsC,OAAS,IAGpB/E,OAAOgF,SAAS,CACdC,IAAKxF,SAASyF,gBAAgBC,aAC9BC,SAAU,WAOd,IAAMC,EAAc,WAClBnB,GAAcD,IAUhB,OAAIK,IAAWT,EAEX,qCACE,cAAC7C,EAAD,CAAWC,SAAUuD,IACrB,oBAAIjE,UAAWC,IAAE8E,MAAjB,8BACA,cAAC,IAAD,CAAgBC,UAAW,SAK7BjB,IAAWT,EAEX,qCACE,cAAC7C,EAAD,CAAWC,SAAUuD,IACrB,cAACgB,EAAD,IACA,cAAC,IAAD,CAAgBD,UAAW,SAM7BjB,IAAWT,EAEX,qCACE,cAAC7C,EAAD,CAAWC,SAAUuD,IACrB,oBAAIjE,UAAWC,IAAEkB,MAAjB,mBACA,cAAC,IAAD,CAAgB6D,UAAW,SAK7BjB,IAAWT,EAEX,qCACE,cAAC7C,EAAD,CAAWC,SAAUuD,IACpBP,GACG,cAACtE,EAAD,CACEC,QAASyF,EACTxF,KAAMA,EACNC,cAAeA,IAGrB,cAAC0C,EAAD,CACEC,OAAQA,EACRC,aAlDa,SAAC7C,EAAMC,GAC1BqE,EAAQtE,GACRuE,EAAiBtE,GACjBuF,OAiDI,cAAC,EAAD,CAAQtC,SA7FG,WAEf0B,OA4FI,cAAC,IAAD,CAAgBc,UAAW,cAhBjC,EC/HFE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC7B,EAAD,MAEFrE,SAASmG,eAAe,W","file":"static/js/main.a0c134b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__ex564\",\"modal\":\"Modal_modal__2fLrr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1-cZZ\",\"imageGalleryItem__image\":\"ImageGalleryItem_imageGalleryItem__image__1J83u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3x1YE\",\"container\":\"Button_container__1BhhK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3_Z5a\",\"error\":\"App_error__3iblg\",\"title\":\"App_title__9cZYH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3Wi6g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3lzao\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3YQ6I\",\"searchForm\":\"Searchbar_searchForm__100cV\",\"searchForm__button\":\"Searchbar_searchForm__button__gEGua\",\"searchForm__label\":\"Searchbar_searchForm__label__1mGe1\",\"searchForm__input\":\"Searchbar_searchForm__input__Vhqu1\"};","import React from 'react';\nimport { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, tags, largeImageURL }) {\n  \n  useEffect(() => {\n    window.addEventListener('keydown', handleKeydown);\n    return (\n      () => window.removeEventListener('keydown', handleKeydown)\n    )\n  });\n\n  const handleKeydown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleCloseClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n  \n  return createPortal(\n      <div className={s.overlay} onClick={handleCloseClick}>\n        <div className={s.modal}>\n          {/* {this.props.children} */}\n          <img src={largeImageURL} alt={tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n};\n\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\n\nimport s from './Searchbar.module.css';\n\n\nexport default function Searchbar({ onSubmit }) {\n  \n  const [query, setQuery] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (query.trim() === '') {\n      return toast.error('Enter a normal query!');\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n\n  const handlEqueryChange = e => {\n    setQuery(e.target.value.toLowerCase());\n  };\n\n\n  return (\n      <header className={s.searchbar}>\n        <form className={s.searchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.searchForm__button}>\n            <span className={s.searchForm__label}>Search images and fotos</span>\n          </button>\n          <input\n            className={s.searchForm__input}\n            type=\"text\"\n            name=\"search\"\n            value={query}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n            onChange={handlEqueryChange}\n          />\n        </form>\n      </header>\n    );\n  \n};\n\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\n\n","import PropTypes from 'prop-types';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ tags, webformatURL, largeImageURL, onClick, }) => (\r\n  <li className={s.imageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt={tags}\r\n      className={s.imageGalleryItem__image}\r\n      onClick={() => onClick(tags, largeImageURL)}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ images, onImageClick }) {\r\n  return (\r\n    <>\r\n      <ul className={s.imageGallery}>\r\n        {images.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            tags={tags}\r\n            webformatURL={webformatURL}\r\n            largeImageURL={largeImageURL}\r\n            onClick={onImageClick}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\n\r\n\r\n\r\n\r\n","import PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nconst Button = ({ loadMore }) => (\n  <div className={s.container}>\n    <button type=\"button\" className={s.button} onClick={loadMore}>\n      Load more\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  loadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import Loader from 'react-loader-spinner';\r\n\r\nimport s from './Loader.module.css';\r\n\r\nconst loader = () => (\r\n  <div>\r\n    {' '}\r\n    <Loader\r\n      className={s.loader}\r\n      type=\"TailSpin\"\r\n      color=\"#3f51b5\"\r\n      height={80}\r\n      width={80}\r\n    />\r\n    ; loading ...\r\n  </div>\r\n);\r\n\r\nexport default loader;\r\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY_API = '23134758-68ab0efee1477745fc8aff6a6';\n\naxios.defaults.baseURL = BASE_URL;\n\nfunction getPicturesPixabayApi(query, page) {\n  let params = `?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${KEY_API}`;\n\n  return axios.get(params);\n}\n\nexport default getPicturesPixabayApi;\n","import {useState, useEffect } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Modal from '../Modal/Modal';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\n\r\nimport Button from '../Button/Button';\r\nimport Loader from '../Loader/Loader';\r\nimport getPicturesPixabayApi from '../../services/pixabay-api';\r\n\r\nimport s from './App.module.css';\r\n\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nexport default function App() {\r\n  \r\n  const [query, setQuery] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [images, setImages] = useState([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [tags, seTtags] = useState('');\r\n  const [largeImageURL, setLargeImageURL] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n   const handleFormSubmit = (query) => {\r\n     setQuery(query);\r\n     setPage(1);\r\n     setImages([]);\r\n  };\r\n\r\n  const fetchApi = () => {\r\n    \r\n    // setStatus(Status.PENDING);\r\n    getPicturesPixabayApi(query, page)\r\n      .then(({ data: { hits } }) => {\r\n        setImages(prevState => [...prevState, ...hits]);\r\n        setPage(prevState => prevState + 1);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      \r\n      .catch(error => {\r\n        setError(error);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  };\r\n\r\n  const loadMore = () => {\r\n    // console.log(page);\r\n    fetchApi();\r\n    \r\n    \r\n  };\r\n\r\n  useEffect(() => {\r\n    \r\n    if (!query) {\r\n      return;\r\n    };\r\n    setStatus(Status.PENDING);\r\n    \r\n    fetchApi();\r\n\r\n  }, [query]);\r\n\r\n  \r\n\r\n  \r\n  \r\n\r\n  const pageScroll = () => {\r\n    if (images.length < 12) {\r\n      return;\r\n    };\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  pageScroll();\r\n\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n    \r\n  };\r\n\r\n  const onImageClick = (tags, largeImageURL) => {\r\n    seTtags(tags);\r\n    setLargeImageURL(largeImageURL);\r\n    toggleModal();\r\n  };\r\n\r\n  if (status === Status.IDLE) {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={handleFormSubmit} /> \r\n        <h2 className={s.title}>Enter name image</h2>\r\n        <ToastContainer autoClose={5000} />\r\n      </>\r\n      )\r\n  };\r\n\r\n  if (status === Status.PENDING) {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={handleFormSubmit} />\r\n        <Loader />\r\n        <ToastContainer autoClose={5000} />\r\n      </>\r\n    );\r\n    \r\n  };\r\n\r\n  if (status === Status.REJECTED) {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={handleFormSubmit} />\r\n        <h2 className={s.error}>ERROR</h2>\r\n        <ToastContainer autoClose={5000} />\r\n      </>\r\n    )\r\n  };\r\n\r\n  if (status === Status.RESOLVED) {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={handleFormSubmit} />\r\n        {showModal && (\r\n            <Modal\r\n              onClose={toggleModal}\r\n              tags={tags}\r\n              largeImageURL={largeImageURL}\r\n            />\r\n        )}\r\n        <ImageGallery\r\n          images={images}\r\n          onImageClick={onImageClick}\r\n        />\r\n        <Button loadMore={loadMore} />\r\n        <ToastContainer autoClose={5000} />\r\n      </>\r\n    );\r\n    \r\n  };\r\n\r\n  // return (\r\n  //     <div>\r\n  //       <Searchbar\r\n  //         onSubmit={handleFormSubmit}\r\n  //       />\r\n        \r\n  //       {showModal && (\r\n  //           <Modal\r\n  //             onClose={toggleModal}\r\n  //             tags={tags}\r\n  //             largeImageURL={largeImageURL}\r\n  //           />\r\n  //       )}\r\n  //       <ToastContainer autoClose={5000} />\r\n  //     </div>\r\n  //   );\r\n\r\n};\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}